# /etc/nginx/conf.d/default.conf

server {
    # 监听 80 端口
    listen 80;
    # 服务名，这里使用 localhost
    server_name localhost;

    # 设置 web 根目录
    root /usr/share/nginx/html;
    # 默认首页文件
    index index.html;

    # 路由配置
    location / {
        # 尝试按顺序查找文件：$uri (请求的文件) -> $uri/ (请求的目录) -> /index.html (SPA 的回退)
        try_files $uri $uri/ /index.html;
    }

    # 对 .js 文件设置正确的 MIME 类型
    location ~ \.js$ {
        add_header Content-Type application/javascript;
    }
}
